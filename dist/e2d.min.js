(function(n,o){'object'==typeof exports&&'object'==typeof module?module.exports=o():'function'==typeof define&&define.amd?define([],o):'object'==typeof exports?exports.e2d=o():n.e2d=o()})(this,function(){return function(t){function n(s){if(o[s])return o[s].exports;var l=o[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,n),l.l=!0,l.exports}var o={};return n.m=t,n.c=o,n.i=function(s){return s},n.d=function(s,l,h){Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:h})},n.n=function(s){var l=s&&s.__esModule?function(){return s['default']}:function(){return s};return n.d(l,'a',l),l},n.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},n.p='',n(n.s=64)}([function(t){class n{constructor(o,s){return this.type=o,this.props=s,Object.seal(this)}}Object.seal(n),Object.seal(n.prototype),t.exports=n},function(t){t.exports={transform:0,setTransform:1,scale:2,translate:3,rotate:4,skewX:5,skewY:6,restore:7,fillRect:8,strokeRect:9,clearRect:10,rect:11,fillStyle:12,strokeStyle:13,endFillStyle:14,endStrokeStyle:15,lineStyle:16,endLineStyle:17,textStyle:18,endTextStyle:19,shadowStyle:20,endShadowStyle:21,fillText:22,strokeText:23,fillArc:24,strokeArc:25,arc:26,ellipse:27,globalCompositeOperation:28,endGlobalCompositeOperation:29,fill:30,stroke:31,beginClip:32,clip:33,endClip:34,beginPath:35,closePath:36,globalAlpha:37,endGlobalAlpha:38,hitRect:39,hitRegion:40,moveTo:41,lineTo:42,bezierCurveTo:43,quadraticCurveTo:44,imageSmoothingEnabled:45,endImageSmoothingEnabled:46,custom:47,arcTo:48}},function(t){t.exports=(n,o)=>{let l,h,s=[];for(let u=0;u<n.length;u++)[l,h]=n[u],s.push([o[0]*l+o[2]*h+o[4],o[1]*l+o[3]*h+o[5]]);return s}},function(t,n,o){let s=o(0),l=new s('beginPath');t.exports=()=>l},function(t,n,o){let s=o(0),l=new s('closePath');t.exports=()=>l},function(t){t.exports=n=>{let o=n.canvas[Symbol.for('mouseData')];o&&(o.dx=o.x-o.previousX,o.dy=o.y-o.previousY,o.previousX=o.x,o.previousY=o.y,o.clicked=0)}},function(t){let n=0;t.exports=([o,s,l,h,u,g])=>(n=1/(o*h-l*s),[h*n,-l*n,-s*n,o*n,(s*g-u*h)*n,(u*s-o*g)*n])},function(t,n,o){let s=o(0);t.exports=(l,h)=>new s('lineTo',{x:l,y:h})},function(t,n,o){let s=o(0);t.exports=(l,h)=>new s('moveTo',{x:l,y:h})},function(t){t.exports=([n,o],[[s,l],[h,u]])=>n>s&&o>l&&n<h&&o<u},function(t,n,o){let s=o(0),l=new s('restore');t.exports=(h,...u)=>[new s('setTransform',[h[0],h[1],h[2],h[3],h[4],h[5]]),u,l]},function(t,n,o){(function(s){function l(w,k){var S=0;for(var v=w.length-1;0<=v;v--){var C=w[v];'.'===C?w.splice(v,1):'..'===C?(w.splice(v,1),S++):S&&(w.splice(v,1),S--)}if(k)for(;S--;S)w.unshift('..');return w}function h(w,k){if(w.filter)return w.filter(k);var S=[];for(var v=0;v<w.length;v++)k(w[v],v,w)&&S.push(w[v]);return S}var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g=function(w){return u.exec(w).slice(1)};n.resolve=function(){var w='',k=!1;for(var S=arguments.length-1;-1<=S&&!k;S--){var v=0<=S?arguments[S]:s.cwd();if('string'!=typeof v)throw new TypeError('Arguments to path.resolve must be strings');else if(!v)continue;w=v+'/'+w,k='/'===v.charAt(0)}return w=l(h(w.split('/'),function(C){return!!C}),!k).join('/'),(k?'/':'')+w||'.'},n.normalize=function(w){var k=n.isAbsolute(w),S='/'===m(w,-1);return w=l(h(w.split('/'),function(v){return!!v}),!k).join('/'),w||k||(w='.'),w&&S&&(w+='/'),(k?'/':'')+w},n.isAbsolute=function(w){return'/'===w.charAt(0)},n.join=function(){var w=Array.prototype.slice.call(arguments,0);return n.normalize(h(w,function(k){if('string'!=typeof k)throw new TypeError('Arguments to path.join must be strings');return k}).join('/'))},n.relative=function(w,k){function S(R){for(var P=0;P<R.length&&''===R[P];P++);for(var L=R.length-1;0<=L&&''===R[L];L--);return P>L?[]:R.slice(P,L-P+1)}w=n.resolve(w).substr(1),k=n.resolve(k).substr(1);var v=S(w.split('/')),C=S(k.split('/')),T=Math.min(v.length,C.length),A=T;for(var O=0;O<T;O++)if(v[O]!==C[O]){A=O;break}var D=[];for(var O=A;O<v.length;O++)D.push('..');return D=D.concat(C.slice(A)),D.join('/')},n.sep='/',n.delimiter=':',n.dirname=function(w){var k=g(w),S=k[0],v=k[1];return S||v?(v&&(v=v.substr(0,v.length-1)),S+v):'.'},n.basename=function(w,k){var S=g(w)[2];return k&&S.substr(-1*k.length)===k&&(S=S.substr(0,S.length-k.length)),S},n.extname=function(w){return g(w)[3]};var m=function(w,k,S){return w.substr(k,S)}}).call(n,o(15))},function(t,n,o){function s(u){return o(l(u))}function l(u){var g=h[u];if(!(g+1))throw new Error('Cannot find module \''+u+'\'.');return g}var h={'./Instruction.js':0,'./activeRegions.js':16,'./arc.js':17,'./arcTo.js':18,'./beginPath.js':3,'./bezierCurveTo.js':19,'./clearRect.js':20,'./clip.js':21,'./clipPath.js':22,'./closePath.js':4,'./consts.js':1,'./createRegularPolygon.js':23,'./createWrapper.js':24,'./cycleMouseData.js':5,'./deserialize.js':25,'./drawImage.js':26,'./ellipse.js':27,'./fill.js':28,'./fillArc.js':29,'./fillRect.js':30,'./fillStyle.js':31,'./fillText.js':32,'./globalAlpha.js':33,'./globalCompositeOperation.js':34,'./hitRect.js':35,'./hitRegion.js':36,'./imageSmoothingEnabled.js':37,'./initialize.js':38,'./invertMatrix.js':6,'./keyData.js':39,'./lineStyle.js':40,'./lineTo.js':7,'./mouseData.js':41,'./moveTo.js':8,'./moveToLineTo.js':42,'./path.js':43,'./placeHolder.js':44,'./pointInRect.js':9,'./quadraticCurveTo.js':45,'./raf.js':46,'./rect.js':47,'./render.js':48,'./resetTransform.js':49,'./rotate.js':50,'./scale.js':51,'./serialize.js':52,'./setTransform.js':10,'./shadowStyle.js':53,'./skewX.js':54,'./skewY.js':55,'./stroke.js':56,'./strokeArc.js':57,'./strokeRect.js':58,'./strokeStyle.js':59,'./strokeText.js':60,'./textStyle.js':61,'./transform.js':62,'./transformPoints.js':2,'./translate.js':63};s.keys=function(){return Object.keys(h)},s.resolve=l,t.exports=s,s.id=12},function(t,n){n=t.exports=function(g){if(g&&'object'==typeof g){var m=g.which||g.keyCode||g.charCode;m&&(g=m)}if('number'==typeof g)return h[g];var w=g+'',k=o[w.toLowerCase()];if(k)return k;var k=s[w.toLowerCase()];return k?k:1===w.length?w.charCodeAt(0):void 0};var o=n.code=n.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,'pause/break':19,'caps lock':20,esc:27,space:32,'page up':33,'page down':34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,'delete':46,command:91,'left command':91,'right command':93,'numpad *':106,'numpad +':107,'numpad -':109,'numpad .':110,'numpad /':111,'num lock':144,'scroll lock':145,'my computer':182,'my calculator':183,';':186,'=':187,',':188,'-':189,'.':190,'/':191,'`':192,'[':219,'\\':220,']':221,'\'':222},s=n.aliases={windows:91,'\u21E7':16,'\u2325':18,'\u2303':17,'\u2318':91,ctl:17,control:17,option:18,pause:19,'break':19,caps:20,'return':13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(l=97;123>l;l++)o[String.fromCharCode(l)]=l-32;for(var l=48;58>l;l++)o[l-48]=l;for(l=1;13>l;l++)o['f'+l]=l+111;for(l=0;10>l;l++)o['numpad '+l]=l+96;var h=n.names=n.title={};for(l in o)h[o[l]]=l;for(var u in s)o[u]=s[u]},function(t){t.exports=function(n,o){var s=n[0],l=n[1],h=!1;for(var u=0,g=o.length-1;u<o.length;g=u++){var m=o[u][0],w=o[u][1],k=o[g][0],S=o[g][1];w>l!=S>l&&s<(k-m)*(l-w)/(S-w)+m&&(h=!h)}return h}},function(t){function n(){throw new Error('setTimeout has not been defined')}function o(){throw new Error('clearTimeout has not been defined')}function s(O){if(k===setTimeout)return setTimeout(O,0);if((k===n||!k)&&setTimeout)return k=setTimeout,setTimeout(O,0);try{return k(O,0)}catch(D){try{return k.call(null,O,0)}catch(R){return k.call(this,O,0)}}}function l(O){if(S===clearTimeout)return clearTimeout(O);if((S===o||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(O);try{return S(O)}catch(D){try{return S.call(null,O)}catch(R){return S.call(this,O)}}}function h(){C&&T&&(C=!1,T.length?v=T.concat(v):A=-1,v.length&&u())}function u(){if(!C){var O=s(h);C=!0;for(var D=v.length;D;){for(T=v,v=[];++A<D;)T&&T[A].run();A=-1,D=v.length}T=null,C=!1,l(O)}}function g(O,D){this.fun=O,this.array=D}function m(){}var w=t.exports={},k,S;(function(){try{k='function'==typeof setTimeout?setTimeout:n}catch(O){k=n}try{S='function'==typeof clearTimeout?clearTimeout:o}catch(O){S=o}})();var v=[],C=!1,T,A=-1;w.nextTick=function(O){var D=Array(arguments.length-1);if(1<arguments.length)for(var R=1;R<arguments.length;R++)D[R-1]=arguments[R];v.push(new g(O,D)),1!==v.length||C||s(u)},g.prototype.run=function(){this.fun.apply(null,this.array)},w.title='browser',w.browser=!0,w.env={},w.argv=[],w.version='',w.versions={},w.on=m,w.addListener=m,w.once=m,w.off=m,w.removeListener=m,w.removeAllListeners=m,w.emit=m,w.binding=function(){throw new Error('process.binding is not supported')},w.cwd=function(){return'/'},w.chdir=function(){throw new Error('process.chdir is not supported')},w.umask=function(){return 0}},function(t,n,o){let s=o(14),l=o(2),h=o(6),u=o(9);new Float64Array(6),t.exports=g=>{let m=g.canvas[Symbol.for('regions')],w=g.canvas[Symbol.for('mousePoints')],k=g.canvas[Symbol.for('mouseData')],S={};0===w.length&&w.push([k.x,k.y,k.state]);for(let v of m){let C=l(w,h(v.matrix));if(!v.polygon){for(let T of C)if(u(T,v.points)){v.hover=!0,v.clicked=!!k.clicked,S[v.id]=v;break}continue}for(let T of C)if(s(T,v.points)){v.hover=!0,v.clicked=!!k.clicked,S[v.id]=v;break}}return S}},function(t,n,o){let s=o(0),l=2*Math.PI;t.exports=(...h)=>{let[u,g,m,w,k,S]=h,v={x:0,y:0,r:u,startAngle:0,endAngle:l,counterclockwise:!1};return 3<h.length&&(v.startAngle=w,v.endAngle=k,v.counterclockwise=!!S),1<h.length&&(v.x=u,v.y=g,v.r=m),new s('arc',v)}},function(t,n,o){let s=o(0);t.exports=(l,h,u,g,m)=>new s('arcTo',{x1:l,y1:h,x2:u,y2:g,r:m})},function(t,n,o){let s=o(0);t.exports=(l,h,u,g,m,w)=>new s('bezierCurveTo',{cp1x:l,cp1y:h,cp2x:u,cp2y:g,x:m,y:w})},function(t,n,o){let s=o(0);t.exports=(...l)=>new s('clearRect',2<l.length?{x:l[0],y:l[1],width:l[2],height:l[3]}:{x:0,y:0,width:l[0],height:l[1]})},function(t,n,o){let s=o(0),l=new s('beginClip'),h=new s('clip'),u=new s('endClip');t.exports=(g,...m)=>[l,g,h,m,u]},function(t,n,o){let s=o(0),l=new s('clipPath');t.exports=()=>l},function(t){t.exports=(n=0,o=[0,0],s=3)=>{let l=[];for(let h=0;h<s;h++)l.push([o[0]+n*Math.cos(2*Math.PI*h/s),o[1]+n*Math.sin(2*Math.PI*h/s)]);return l}},function(t){let n=[].concat;t.exports=n},function(t,n,o){let s=o(1),l=o(0),h=['butt','round','square'],u=['top','hanging','middle','alphabetic','ideographic','bottom'],g=['left','right','center','start','end'],m=['ltr','rtl','inherit'],w=['source-over','source-in','source-out','source-atop','destination-over','destination-in','destination-out','destination-atop','lighter','copy','xor','multiply','screen','overlay','darken','lighten','color-dodge','color-burn','hard-light','soft-light','difference','exclusion','hue','saturation','color','luminosity'],k={[s.fillRect]:'fillRect',[s.strokeRect]:'strokeRect',[s.clearRect]:'clearRect',[s.rect]:'rect'},S={[s.fillText]:'fillText',[s.strokeText]:'strokeText'},v={[s.fillArc]:'fillArc',[s.strokeArc]:'strokeArc',[s.arc]:'arc'},C={[s.endFillStyle]:'endFillStyle',[s.endLineStyle]:'endLineStyle',[s.endStrokeStyle]:'endStrokeStyle',[s.endLineStyle]:'endLineStyle',[s.endShadowStyle]:'endShadowStyle',[s.endTextStyle]:'endTextStyle',[s.restore]:'restore',[s.endGlobalCompositeOperation]:'endGlobalCompositeOperation',[s.fill]:'fill',[s.stroke]:'stroke',[s.beginClip]:'beginClip',[s.clip]:'clip',[s.endClip]:'endClip',[s.beginPath]:'beginPath',[s.closePath]:'closePath',[s.endGlobalAlpha]:'endGlobalAlpha',[s.endImageSmoothingEnabled]:'endImageSmoothingEnabled'},T={[s.moveTo]:'moveTo',[s.lineTo]:'lineTo'},A=(D,R,P)=>{let L='';for(let I=0;I<P;I++)L+=String.fromCharCode(D[R+I]);return L},O=(D,R,P)=>{let L=[];for(let I=0;I<P;I++)L.push(D[I]);return L};t.exports=(D,R)=>{let P=[];for(let L=0;L<D.length;){let I=D[L];if(I===s.transform){P.push(new l('transform',[D[L+1],D[L+2],D[L+3],D[L+4],D[L+5],D[L+6]])),L+=7;continue}if(I===s.setTransform){P.push(new l('setTransform',[D[L+1],D[L+2],D[L+3],D[L+4],D[L+5],D[L+6]])),L+=7;continue}if(I===s.scale){P.push(new l('scale',{x:D[L+1],y:D[L+2]})),L+=3;continue}if(I===s.translate){P.push(new l('translate',{x:D[L+1],y:D[L+2]})),L+=3;continue}if(I===s.rotate){P.push(new l('rotate',{cos:D[L+1],sin:D[L+2]})),L+=3;continue}if(I===s.skewX){P.push(new l('skewX',{x:D[L+1]})),L+=2;continue}if(I===s.skewY){P.push(new l('skewY',{y:D[L+1]})),L+=2;continue}if(k[I]){P.push(new l(k[I],{x:D[L+1],y:D[L+2],width:D[L+3],height:D[L+4]})),L+=5;continue}if(I===s.fillStyle||I===s.strokeStyle){let X=D[L+1],Y=A(D,L+2,X);P.push(new l(I===s.fillStyle?'fillStyle':'strokeStyle',{value:Y})),L+=2+X;continue}if(I===s.lineStyle){P.push(new l('lineStyle',{lineWidth:isNaN(D[L+1])?null:D[L+1],lineCap:isNaN(D[L+2])?null:h[D[L+2]]||null,lineJoin:isNaN(D[L+3])?null:h[D[L+3]]||null,miterLimit:isNaN(D[L+4])?null:D[L+4],lineDash:isNaN(D[L+6])?null:O(D,L+7,D[L+6]),lineDashOffset:isNaN(D[L+5])?null:D[L+5]})),L+=7+(isNaN(D[L+6])?0:D[L+6]);continue}if(I===s.textStyle){P.push(new l('textStyle',{font:isNaN(D[L+4])?null:A(D,L+5,D[L+4]),textAlign:isNaN(D[L+1])?null:g[D[L+1]]||null,textBaseline:isNaN(D[L+2])?null:u[D[L+2]]||null,direction:isNaN(D[L+3])?null:m[D[L+3]]||null})),L+=5+(isNaN(D[L+4])?0:D[L+4]);continue}if(I===s.shadowStyle){P.push(new l('shadowStyle',{shadowBlur:isNaN(D[L+1])?null:D[L+1],shadowColor:isNaN(D[L+4])?null:A(D,L+5,D[L+4]),shadowOffsetX:isNaN(D[L+2])?null:D[L+2],shadowOffsetY:isNaN(D[L+3])?null:D[L+3]})),L+=5+(isNaN(D[L+4])?0:D[L+4]);continue}if(S[I]){P.push(new l(S[I],{text:isNaN(D[L+4])?'':A(D,L+5,D[L+4]),x:D[L+1],y:D[L+2],maxWidth:isNaN(D[L+3])?null:D[L+3]})),L+=5+(isNaN(D[L+4])?0:D[L+4]);continue}if(I===s.arcTo){P.push(new l('arcTo',{x1:D[L+1],y1:D[L+2],x2:D[L+3],y2:D[L+4],r:D[L+5]})),L+=6;continue}if(v[I]){P.push(new l(v[I],{x:D[L+1],y:D[L+2],r:D[L+3],startAngle:D[L+4],endAngle:D[L+5],counterclockwise:!!D[L+6]})),L+=7;continue}if(I===s.ellipse){P.push(new l('ellipse',{x:D[L+1],y:D[L+2],radiusX:D[L+3],radiusY:D[L+4],rotation:D[L+5],startAngle:D[L+6],endAngle:D[L+7],anticlockwise:!!D[L+8]})),L+=9;continue}if(I===s.globalCompositeOperation){P.push(new l('globalCompositeOperation',{value:w[D[L+1]]})),L+=2;continue}if(I===s.hitRect){P.push(new l('hitRect',{id:A(D,L+6,D[L+5]),points:[[D[L+1],D[L+2]],[D[L+3],D[L+4]]]})),L+=6+D[L+5];continue}if(I===s.hitRegion){let X=[],Y=D[L+1];for(let W=0;W<Y;W++)L+=2,X.push([D[L],D[L+1]]);L+=2,P.push(new l('hitRegion',{id:A(D,L+1,D[L]),points:X})),L+=1+D[L];continue}if(T[I]){P.push(new l(T[I],{x:D[L+1],y:D[L+2]})),L+=3;continue}if(I===s.bezierCurveTo){P.push(new l('bezierCurveTo',{cp1x:D[L+1],cp1y:D[L+2],cp2x:D[L+3],cp2y:D[L+4],x:D[L+5],y:D[L+6]})),L+=7;continue}if(I===s.quadraticCurveTo){P.push(new l('quadraticCurveTo',{cpx:D[L+1],cpy:D[L+2],x:D[L+3],y:D[L+4]})),L+=5;continue}if(I===s.imageSmoothingEnabled){P.push(new l('imageSmoothingEnabled',{value:!!D[L+1]})),L+=2;continue}if(C[I]){P.push(new l(C[I])),L+=1;continue}if(I===s.custom){if(!R)throw new Error('Custom command object was falsy, did you forget to provide deserialize methods?');let X=A(D,L+2,D[L+1]);if(!R[X])throw new Error('Custom command serialized but no matching deserialize method provided.');L+=2+D[L+1],P.push(new l(X,R[X](D.slice(L+1,L+1+D[L])))),L+=1+D[L]}}return P}},function(t,n,o){let s=o(0);t.exports=(...l)=>{let[h,u,g,m,w,k,S,v,C]=l;return 9===l.length?new s('drawImageSource',{img:h,sx:u,sy:g,sWidth:m,sHeight:w,dx:k,dy:S,dWidth:v,dHeight:C}):5<=l.length?new s('drawImageSize',{img:h,dx:u,dy:g,dWidth:m,dHeight:w}):3<=l.length?new s('drawImage',{img:h,dx:u,dy:g}):new s('drawImage',{img:h,dx:0,dy:0})}},function(t,n,o){let s=o(0),l=2*Math.PI;t.exports=(...h)=>{let[u,g,m,w,k,S,v,C]=h,T={x:0,y:0,radiusX:u,radiusY:g,rotation:0,startAngle:0,endAngle:l,anticlockwise:!1};return 5<h.length&&(T.startAngle=S,T.endAngle=v,T.anticlockwise=!!C),4<h.length&&(T.rotation=k),2<h.length&&(T.x=u,T.y=g,T.radiusX=m,T.radiusY=w),new s('ellipse',T)}},function(t,n,o){let s=o(0),l=new s('fill');t.exports=()=>l},function(t,n,o){let s=o(0),l=2*Math.PI;t.exports=(...h)=>{let[u,g,m,w,k,S]=h,v={x:0,y:0,r:u,startAngle:0,endAngle:l,counterclockwise:!1};return 3<h.length&&(v.startAngle=w,v.endAngle=k,v.counterclockwise=!!S),2<=h.length&&(v.x=u,v.y=g,v.r=m),new s('fillArc',v)}},function(t,n,o){let s=o(0);t.exports=(...l)=>new s('fillRect',2<l.length?{x:l[0],y:l[1],width:l[2],height:l[3]}:{x:0,y:0,width:l[0],height:l[1]})},function(t,n,o){let s=o(0),l=new s('endFillStyle');t.exports=(h,...u)=>[new s('fillStyle',{value:h}),u,l]},function(t,n,o){let s=o(0);t.exports=(...l)=>{let[h,u,g,m]=l;return 4>l.length&&(m=null),3>l.length&&(u=0,g=0),new s('fillText',{text:h,x:u,y:g,maxWidth:m})}},function(t,n,o){let s=o(0),l=new s('endGlobalAlpha');t.exports=(h,...u)=>[new s('globalAlpha',{value:h}),u,l]},function(t,n,o){var s=o(0);let l=new s('endGlobalCompositeOperation');t.exports=(h,...u)=>[new s('globalCompositeOperation',{value:h}),u,l]},function(t,n,o){let s=o(0);t.exports=(l,...h)=>{let[u,g,m,w]=h;return 3>=h.length&&(m=u,w=g,u=0,g=0),new s('hitRect',{id:l,points:[[u,g],[u+m,g+w]]})}},function(t,n,o){let s=o(0);t.exports=(l,h)=>new s('hitRegion',{id:l,points:h})},function(t,n,o){let s=o(0),l=new s('endImageSmoothingEnabled');t.exports=(h,...u)=>[new s('imageSmoothingEnabled',{value:h}),u,l]},function(t,n,o){let s=o(13);t.exports=l=>{let{canvas:h}=l;h[Symbol.for('mouseData')]={x:0,y:0,dx:0,dy:0,previousX:0,previousY:0,state:!1,clicked:0};let u=h[Symbol.for('keyData')]={};for(let m in s.code)s.code.hasOwnProperty(m)&&(u[m]=!1);h[Symbol.for('regions')]=[],h[Symbol.for('mousePoints')]=[],h.tabIndex=1;let g=m=>{let{clientX:w,clientY:k}=m,{left:S,top:v}=h.getBoundingClientRect(),C=h[Symbol.for('mouseData')],T=[w-S,k-v,C.state];C.x=T[0],C.y=T[1];let A=h[Symbol.for('mousePoints')];return A.push(T),100<A.length&&A.splice(0,A.length-100),m.preventDefault(),!1};h.addEventListener('mousemove',m=>g(m)),h.addEventListener('mousedown',m=>{let{target:w}=m;if(w===h){let k=h[Symbol.for('mouseData')];return k.state||(k.clicked+=1),k.state=!0,g(m)}}),h.addEventListener('mouseup',m=>{let w=h[Symbol.for('mouseData')];return w.state=!1,g(m)}),h.addEventListener('keydown',m=>{return h[Symbol.for('keyData')][s(m.keyCode)]=!0,m.preventDefault(),!1}),h.addEventListener('keyup',m=>{return h[Symbol.for('keyData')][s(m.keyCode)]=!1,m.preventDefault(),!1})}},function(t){t.exports=n=>n.canvas[Symbol.for('keyData')]},function(t,n,o){let s=o(0),l=new s('endLineStyle');t.exports=(h,...u)=>{h=h||{};var g={lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,lineDash:null,lineDashOffset:null};return'undefined'!=typeof h.lineWidth&&(g.lineWidth=h.lineWidth),'undefined'!=typeof h.lineCap&&(g.lineCap=h.lineCap),'undefined'!=typeof h.lineJoin&&(g.lineJoin=h.lineJoin),'undefined'!=typeof h.miterLimit&&(g.miterLimit=h.miterLimit),'undefined'!=typeof h.lineDash&&(g.lineDash=h.lineDash||[]),'undefined'!=typeof h.lineDashOffset&&(g.lineDashOffset=h.lineDashOffset),[new s('lineStyle',g),u,l]}},function(t){t.exports=n=>n.canvas[Symbol.for('mouseData')]},function(t,n,o){let s=o(8),l=o(7);t.exports=(h,u)=>0===u?s(h[0],h[1]):l(h[0],h[1])},function(t,n,o){let s=o(3)(),l=o(4)();t.exports=(...h)=>[s,h,l]},function(t,n,o){let s=o(0),l=new s('placeholder');t.exports=()=>l},function(t,n,o){let s=o(0);t.exports=(l,h,u,g)=>new s('quadraticCurveTo',{cpx:l,cpy:h,x:u,y:g})},function(t){let n=o=>{return requestAnimationFrame(()=>n(o)),o()};t.exports=n},function(t,n,o){let s=o(0);t.exports=(...l)=>new s('rect',2<l.length?{x:l[0],y:l[1],width:l[2],height:l[3]}:{x:0,y:0,width:l[0],height:l[1]})},function(t,n,o){let s=[1,0,0,1,0,0],l=new Float64Array(s),h=[],u=[],g=[],m=[],w=[],k=[],S=[],v=[],C=new Float64Array(3006),T=6,A=[].concat,O=!1;'undefined'!=typeof CanvasRenderingContext2D&&(O=CanvasRenderingContext2D.prototype.hasOwnProperty('ellipse')),o(2);const D=o(5),R=()=>{let L=C;return C=new Float64Array(C.length+600),C.set(L),this};C.set(s),2*Math.PI;let P=L=>L&&L.splice(0,L.length);t.exports=(...L)=>{let I=L.slice(0,-1),X=L[L.length-1],Y=X.canvas[Symbol.for('regions')],W=X.canvas[Symbol.for('mousePoints')],B=X.canvas[Symbol.for('extensions')],E;D(X),P(Y),P(W);let z=I.length;for(let J=0;J<z;J++){let q=I[J];if(q&&q.constructor===Array){for(I=A.apply([],I),q=I[J];q&&q.constructor===Array;)I=A.apply([],I),q=I[J];z=I.length}if(q){let{props:G,type:H}=q;if('transform'===H){l[0]=C[T-6],l[1]=C[T-5],l[2]=C[T-4],l[3]=C[T-3],l[4]=C[T-2],l[5]=C[T-1],T+=6,T>C.length&&R(),C[T-6]=l[0]*G[0]+l[2]*G[1],C[T-5]=l[1]*G[0]+l[3]*G[1],C[T-4]=l[0]*G[2]+l[2]*G[3],C[T-3]=l[1]*G[2]+l[3]*G[3],C[T-2]=l[0]*G[4]+l[2]*G[5]+l[4],C[T-1]=l[1]*G[4]+l[3]*G[5]+l[5],X.setTransform(C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]);continue}if('setTransform'===H){T+=6,T>C.length&&R(),C[T-6]=G[0],C[T-5]=G[1],C[T-4]=G[2],C[T-3]=G[3],C[T-2]=G[4],C[T-1]=G[5],X.setTransform(G[0],G[1],G[2],G[3],G[4],G[5]);continue}if('scale'===H){l[0]=C[T-6],l[1]=C[T-5],l[2]=C[T-4],l[3]=C[T-3],l[4]=C[T-2],l[5]=C[T-1],T+=6,T>C.length&&R(),C[T-6]=l[0]*G.x,C[T-5]=l[1]*G.x,C[T-4]=l[2]*G.y,C[T-3]=l[3]*G.y,C[T-2]=l[4],C[T-1]=l[5],X.setTransform(C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]);continue}if('translate'===H){l[0]=C[T-6],l[1]=C[T-5],l[2]=C[T-4],l[3]=C[T-3],l[4]=C[T-2],l[5]=C[T-1],T+=6,T>C.length&&R(),C[T-6]=l[0],C[T-5]=l[1],C[T-4]=l[2],C[T-3]=l[3],C[T-2]=l[4]+l[0]*G.x+l[2]*G.y,C[T-1]=l[5]+l[1]*G.x+l[3]*G.y,X.setTransform(C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]);continue}if('rotate'===H){l[0]=C[T-6],l[1]=C[T-5],l[2]=C[T-4],l[3]=C[T-3],l[4]=C[T-2],l[5]=C[T-1],T+=6,T>C.length&&R(),C[T-6]=l[0]*G.cos+l[2]*G.sin,C[T-5]=l[1]*G.cos+l[3]*G.sin,C[T-4]=l[0]*-G.sin+l[2]*G.cos,C[T-3]=l[1]*-G.sin+l[3]*G.cos,C[T-2]=l[4],C[T-1]=l[5],X.setTransform(C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]);continue}if('skewX'===H){l[0]=C[T-6],l[1]=C[T-5],l[2]=C[T-4],l[3]=C[T-3],l[4]=C[T-2],l[5]=C[T-1],T+=6,T>C.length&&R(),C[T-6]=l[0],C[T-5]=l[1],C[T-4]=l[0]*G.x+l[2],C[T-3]=l[1]*G.x+l[3],C[T-2]=l[4],C[T-1]=l[5],X.setTransform(C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]);continue}if('skewY'===H){l[0]=C[T-6],l[1]=C[T-5],l[2]=C[T-4],l[3]=C[T-3],l[4]=C[T-2],l[5]=C[T-1],T+=6,T>C.length&&R(),C[T-6]=1*l[0]+l[2]*G.y,C[T-5]=1*l[1]+l[3]*G.y,C[T-4]=l[2],C[T-3]=l[3],C[T-2]=l[4],C[T-1]=l[5],X.setTransform(C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]);continue}if('restore'===H){T-=6,l[0]=C[T-6],l[1]=C[T-5],l[2]=C[T-4],l[3]=C[T-3],l[4]=C[T-2],l[5]=C[T-1],X.setTransform(l[0],l[1],l[2],l[3],l[4],l[5]);continue}if('fillRect'===H){X.fillRect(G.x,G.y,G.width,G.height);continue}if('strokeRect'===H){X.strokeRect(G.x,G.y,G.width,G.height);continue}if('clearRect'===H){X.clearRect(G.x,G.y,G.width,G.height);continue}if('rect'===H){X.rect(G.x,G.y,G.width,G.height);continue}if('fillStyle'===H){h.push(X.fillStyle),X.fillStyle=G.value;continue}if('strokeStyle'===H){u.push(X.strokeStyle),X.strokeStyle=G.value;continue}if('endFillStyle'===H){X.fillStyle=h.pop();continue}if('endStrokeStyle'===H){X.strokeStyle=u.pop();continue}if('lineStyle'===H){g.push({lineWidth:X.lineWidth,lineCap:X.lineCap,lineJoin:X.lineJoin,miterLimit:X.miterLimit,lineDash:X.getLineDash(),lineDashOffset:X.lineDashOffset}),null!==G.lineWidth&&(X.lineWidth=G.lineWidth),null!==G.lineCap&&(X.lineCap=G.lineCap),null!==G.lineJoin&&(X.lineJoin=G.lineJoin),null!==G.miterLimit&&(X.miterLimit=G.miterLimit),null!==G.lineDash&&X.setLineDash(G.lineDash),null!==G.lineDashOffset&&(X.lineDashOffset=G.lineDashOffset);continue}if('endLineStyle'===H){E=g.pop(),X.lineWidth=E.lineWidth,X.lineCap=E.lineCap,X.lineJoin=E.lineJoin,X.miterLimit=E.miterLimit,X.setLineDash(E.lineDash),X.lineDashOffset=E.lineDashOffset;continue}if('textStyle'===H){m.push({font:X.font,textAlign:X.textAlign,textBaseline:X.textBaseline,direction:X.direction}),null!==G.font&&(X.font=G.font),null!==G.textAlign&&(X.textAlign=G.textAlign),null!==G.textBaseline&&(X.textBaseline=G.textBaseline),null!==G.direction&&(X.direction=G.direction);continue}if('endTextStyle'===H){E=m.pop(),X.font=E.font,X.textAlign=E.textAlign,X.textBaseline=E.textBaseline,X.direction=E.direction;continue}if('shadowStyle'===H){w.push({shadowBlur:X.shadowBlur,shadowColor:X.shadowColor,shadowOffsetX:X.shadowOffsetX,shadowOffsetY:X.shadowOffsetY}),null!==G.shadowBlur&&(X.shadowBlur=G.shadowBlur),null!==G.shadowColor&&(X.shadowColor=G.shadowColor),null!==G.shadowOffsetX&&(X.shadowOffsetX=G.shadowOffsetX),null!==G.shadowOffsetY&&(X.shadowOffsetY=G.shadowOffsetY);continue}if('endShadowStyle'===H){E=w.pop(),X.shadowBlur=E.shadowBlur,X.shadowColor=E.shadowColor,X.shadowOffsetX=E.shadowOffsetX,X.shadowOffsetY=E.shadowOffsetY;continue}if('strokeText'===H){if(G.maxWidth){X.strokeText(G.text,G.x,G.y,G.maxWidth);continue}X.strokeText(G.text,G.x,G.y);continue}if('fillText'===H){if(G.maxWidth){X.fillText(G.text,G.x,G.y,G.maxWidth);continue}X.fillText(G.text,G.x,G.y);continue}if('drawImage'===H){X.drawImage(G.img,G.dx,G.dy);continue}if('drawImageSize'===H){X.drawImage(G.img,G.dx,G.dy,G.dWidth,G.dHeight);continue}if('drawImageSource'===H){X.drawImage(G.img,G.sx,G.sy,G.sWidth,G.sHeight,G.dx,G.dy,G.dWidth,G.dHeight);continue}if('strokeArc'===H){X.beginPath(),X.arc(G.x,G.y,G.r,G.startAngle,G.endAngle,G.counterclockwise),X.closePath(),X.stroke();continue}if('fillArc'===H){X.beginPath(),X.arc(G.x,G.y,G.r,G.startAngle,G.endAngle,G.counterclockwise),X.closePath(),X.fill();continue}if('moveTo'===H){X.moveTo(G.x,G.y);continue}if('lineTo'===H){X.lineTo(G.x,G.y);continue}if('bezierCurveTo'===H){X.bezierCurveTo(G.cp1x,G.cp1y,G.cp2x,G.cp2y,G.x,G.y);continue}if('quadraticCurveTo'===H){X.quadraticCurveTo(G.cpx,G.cpy,G.x,G.y);continue}if('arc'===H){X.arc(G.x,G.y,G.r,G.startAngle,G.endAngle,G.counterclockwise);continue}if('arcTo'===H){X.arcTo(G.x1,G.y1,G.x2,G.y2,G.r);continue}if('ellipse'===H){if(O){X.ellipse(G.x,G.y,G.radiusX,G.radiusY,G.rotation,G.startAngle,G.endAngle,G.anticlockwise);continue}X.save(),X.translate(G.x,G.y),X.rotate(G.rotation),X.scale(G.radiusX,G.radiusY),X.arc(0,0,1,G.startAngle,G.endAngle,G.anticlockwise),X.restore();continue}if('globalCompositeOperation'===H){k.push(X.globalCompositeOperation),X.globalCompositeOperation=G.value;continue}if('endGlobalCompositeOperation'===H){X.globalCompositeOperation=k.pop();continue}if('fill'===H){X.fill();continue}if('stroke'===H){X.stroke();continue}if('beginClip'===H){X.save(),X.beginPath();continue}if('clip'===H){X.clip();continue}if('endClip'===H){X.restore();continue}if('beginPath'===H){X.beginPath();continue}if('closePath'===H){X.closePath();continue}if('globalAlpha'===H){S.push(X.globalAlpha),X.globalAlpha*=G.value;continue}if('endGlobalAlpha'===H){X.globalAlpha=S.pop();continue}if('hitRect'===H&&Y&&(E=[C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]],Y.push({id:G.id,points:G.points,matrix:E,polygon:!1,hover:!1,touched:!1,clicked:!1})),'hitRegion'===H&&Y){E=[C[T-6],C[T-5],C[T-4],C[T-3],C[T-2],C[T-1]],Y.push({id:G.id,points:G.points,matrix:E,polygon:!0,hover:!1,touched:!1,clicked:!1});continue}if('imageSmoothingEnabled'===H){v.push(X.imageSmoothingEnabled),X.imageSmoothingEnabled=G.value;continue}if('endImageSmoothingEnabled'===H){X.imageSmoothingEnabled=v.pop();continue}if(B&&B[H]){B[H](G,X);continue}}}}},function(t,n,o){let s=o(10);t.exports=(...l)=>s([1,0,0,1,0,0],l)},function(t,n,o){let s=o(0),l=new s('restore');t.exports=(h,...u)=>[new s('rotate',{cos:Math.cos(h),sin:Math.sin(h)}),u,l]},function(t,n,o){let s=o(0),l=new s('restore');t.exports=(h,u,...g)=>{return'number'!=typeof u&&(g=[u].concat(g),u=h),[new s('scale',{x:h,y:u}),g,l]}},function(t,n,o){let s=[].concat,l=o(0),h=o(1),u=['butt','round','square'],g=['bevel','round','miter'],m=['top','hanging','middle','alphabetic','ideographic','bottom'],w=['left','right','center','start','end'],k=['ltr','rtl','inherit'],S=['source-over','source-in','source-out','source-atop','destination-over','destination-in','destination-out','destination-atop','lighter','copy','xor','multiply','screen','overlay','darken','lighten','color-dodge','color-burn','hard-light','soft-light','difference','exclusion','hue','saturation','color','luminosity'],v={endLineStyle:!0,endTextStyle:!0,endStrokeStyle:!0,endFillStyle:!0,endShadowStyle:!0,restore:!0,endGlobalCompositeOperation:!0,fill:!0,stroke:!0,beginClip:!0,clip:!0,endClip:!0,beginPath:!0,closePath:!0,endGlobalAlpha:!0,endImageSmoothingEnabled:!0},C={fillArc:!0,strokeArc:!0,arc:!0},T={moveTo:!0,lineTo:!0},A=(O,D)=>{for(let R=0;R<D.length;R++)O.push(D.charCodeAt(R))};t.exports=(...O)=>{let D={};for(let P=0;P<O.length;P++)for(;O[P]&&O[P].constructor===Array;)O=s.apply([],O);O[O.length-1].constructor!==l&&(D=O[O.length-1],O.splice(-1,1));let R=[];for(let P=0;P<O.length;P++){let{type:L,props:I}=O[P];if('transform'===L){R.push(h.transform,I[0],I[1],I[2],I[3],I[4],I[5]);continue}if('setTransform'===L){R.push(h.setTransform,I[0],I[1],I[2],I[3],I[4],I[5]);continue}if('scale'===L){R.push(h.scale,I.x,I.y);continue}if('translate'===L){R.push(h.translate,I.x,I.y);continue}if('rotate'===L){R.push(h.rotate,I.cos,I.sin);continue}if('skewX'===L){R.push(h.skewX,I.x);continue}if('skewY'===L){R.push(h.skewY,I.y);continue}if('fillRect'===L||'strokeRect'===L||'clearRect'===L||'rect'===L){R.push(h[L],I.x,I.y,I.width,I.height);continue}if('fillStyle'===L||'strokeStyle'===L){R.push(h[L],I.value.length),A(R,I.value);continue}if('lineStyle'===L){if(R.push(h.lineStyle,null===I.lineWidth?NaN:I.lineWidth,I.lineCap?u.indexOf(I.lineCap):NaN,I.lineJoin?g.indexOf(I.lineJoin):NaN,null===I.miterLimit?NaN:I.miterLimit,null===I.lineDashOffset?NaN:I.lineDashOffset,null===I.lineDash?NaN:I.lineDash.length),null!==I.lineDash)for(let X=0;X<I.lineDash.length;X++)R.push(I.lineDash);continue}if('textStyle'===L){R.push(h.textStyle,I.textAlign?w.indexOf(I.textAlign):NaN,I.textBaseline?m.indexOf(I.textBaseline):NaN,I.direction?k.indexOf(I.direction):NaN,I.font?I.font.length:NaN),null!==I.font&&A(R,I.font);continue}if('shadowStyle'===L){R.push(h.shadowStyle,null===I.shadowBlur?NaN:I.shadowBlur,null===I.shadowOffsetX?NaN:I.shadowOffsetX,null===I.shadowOffsetY?NaN:I.shadowOffsetY,null===I.shadowColor?NaN:I.shadowColor.length),null!==I.shadowColor&&A(R,I.shadowColor);continue}if('fillText'===L||'strokeText'===L){R.push(h[L],I.x,I.y,null===I.maxWidth?NaN:I.maxWidth,I.text.length),A(R,I.text);continue}if('arcTo'===L&&R.push(h.arcTo,I.x1,I.y1,I.x2,I.y2,I.r),C[L]){R.push(h[L],I.x,I.y,I.r,I.startAngle,I.endAngle,I.counterclockwise?1:0);continue}if('ellipse'===L){R.push(h.ellipse,I.x,I.y,I.radiusX,I.radiusY,I.rotation,I.startAngle,I.endAngle,I.anticlockwise?1:0);continue}if('globalCompositeOperation'===L){R.push(h.globalCombpositeOperation,S.indexOf(I.value));continue}if('globalAlpha'===L){R.push(h.globalAlpha,I.value);continue}if(T[L]){R.push(h[L],I.x,I.y);continue}if('hitRect'===L){R.push(h.hitRect,I.points[0][0],I.points[0][1],I.points[1][0],I.points[1][1],I.id.length),A(R,I.id);continue}if('hitRegion'===L){R.push(h.hitRegion,I.points.length);for(let X=0;X<I.points.length;X++)R.push(I.points[X][0],I.points[X][1]);R.push(I.id.length),A(R,I.id);continue}if('bezierCurveTo'===L){R.push(h.bezierCurveTo,I.cp1x,I.cp1y,I.cp2x,I.cp2y,I.x,I.y);continue}if('quadraticCurveTo'===L){R.push(h.quadraticCurveTo,I.cpx,I.cpy,I.x,I.y);continue}if('imageSmoothingEnabled'===L){R.push(h.imageSmoothingEnabled,I.value?1:0);continue}if(v.hasOwnProperty(L)){R.push(h[L]);continue}if(D.hasOwnProperty(L)){R.push(h.custom,L.length),A(R,L);let X=D[L](I);R.push(X.length);for(let Y=0;Y<X.length;Y++)R.push(X[Y]);continue}}return new Float64Array(R)}},function(t,n,o){let s=o(0),l=new s('endShadowStyle');t.exports=(h,...u)=>{h=h||{};var g={shadowBlur:null,shadowColor:null,shadowOffsetX:null,shadowOffsetY:null};return'undefined'!=typeof h.shadowBlur&&(g.shadowBlur=h.shadowBlur),'undefined'!=typeof h.shadowColor&&(g.shadowColor=h.shadowColor),'undefined'!=typeof h.shadowOffsetX&&(g.shadowOffsetX=h.shadowOffsetX),'undefined'!=typeof h.direction&&(g.shadowOffsetY=h.shadowOffsetY),[new s('shadowStyle',h),u,l]}},function(t,n,o){let s=o(0),l=new s('restore');t.exports=(h,...u)=>[new s('skewX',{x:Math.tan(h)}),u,l]},function(t,n,o){let s=o(0),l=new s('restore');t.exports=(h,...u)=>[new s('skewY',{y:Math.tan(y)}),u,l]},function(t,n,o){let s=o(0),l=new s('stroke');t.exports=()=>l},function(t,n,o){let s=o(0),l=2*Math.PI;t.exports=(...h)=>{let[u,g,m,w,k,S]=h,v={x:0,y:0,r:u,startAngle:0,endAngle:l,counterclockwise:!1};return 3<h.length&&(v.startAngle=w,v.endAngle=k,v.counterclockwise=!!S),1<h.length&&(v.x=u,v.y=g,v.r=m),new s('strokeArc',v)}},function(t,n,o){let s=o(0);t.exports=(...l)=>new s('strokeRect',2<l.length?{x:l[0],y:l[1],width:l[2],height:l[3]}:{x:0,y:0,width:l[0],height:l[1]})},function(t,n,o){let s=o(0),l=new s('endStrokeStyle');t.exports=(h,...u)=>[new s('strokeStyle',{value:h}),u,l]},function(t,n,o){let s=o(0);t.exports=(...l)=>{let[h,u,g,m]=l;return 4>l.length&&(m=null),3>l.length&&(u=0,g=0),new s('strokeText',{text:h,x:u,y:g,maxWidth:m})}},function(t,n,o){let s=o(0),l=new s('endTextStyle');t.exports=(h,...u)=>{h=h||{};var g={font:null,textAlign:null,textBaseline:null,direction:null};return'undefined'!=typeof h.font&&(g.font=h.font),'undefined'!=typeof h.textAlign&&(g.textAlign=h.textAlign),'undefined'!=typeof h.textBaseline&&(g.textBaseline=h.textBaseline),'undefined'!=typeof h.direction&&(g.direction=h.direction),[new s('textStyle',g),u,l]}},function(t,n,o){let s=o(0),l=new s('restore');t.exports=(h,...u)=>{return[new s('transform',[h[0],h[1],h[2],h[3],h[4],h[5]]),u,l]}},function(t,n,o){let s=o(0),l=new s('restore');t.exports=(h,u,...g)=>[new s('translate',{x:h,y:u}),g,l]},function(t,n,o){'use strict';'use strict';var s=o(12),l=o(11);t.exports=s.keys().reduce(function(h,u){return h[l.basename(u,l.extname(u))]=s(u),h},{})}])});