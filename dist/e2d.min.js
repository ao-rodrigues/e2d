(function(h,k){'object'==typeof exports&&'object'==typeof module?module.exports=k():'function'==typeof define&&define.amd?define([],k):'object'==typeof exports?exports.e2d=k():h.e2d=k()})(this,function(){return function(g){function h(l){if(k[l])return k[l].exports;var m=k[l]={i:l,l:!1,exports:{}};return g[l].call(m.exports,m,m.exports,h),m.l=!0,m.exports}var k={};return h.m=g,h.c=k,h.i=function(l){return l},h.d=function(l,m,n){Object.defineProperty(l,m,{configurable:!1,enumerable:!0,get:n})},h.n=function(l){var m=l&&l.__esModule?function(){return l['default']}:function(){return l};return h.d(m,'a',m),m},h.o=function(l,m){return Object.prototype.hasOwnProperty.call(l,m)},h.p='',h(h.s=61)}([function(g){class h{constructor(k,l){return this.type=k,this.props=l,Object.seal(this)}}Object.seal(h),Object.seal(h.prototype),g.exports=h},function(g){g.exports=(h,k)=>{let m,n,l=[];for(let o=0;o<h.length;o++)[m,n]=h[o],l.push([k[0]*m+k[2]*n+k[4],k[1]*m+k[3]*n+k[5]]);return l}},function(g,h,k){let l=k(0),m=new l('beginPath');g.exports=()=>m},function(g,h,k){let l=k(0),m=new l('closePath');g.exports=()=>m},function(g){g.exports=h=>{let k=h.canvas[Symbol.for('mouseData')];k&&(k.dx=k.x-k.previousX,k.dy=k.y-k.previousY,k.previousX=k.x,k.previousY=k.y,k.clicked=0)}},function(g){let h=0;g.exports=([k,l,m,n,o,q])=>(h=1/(k*n-m*l),[n*h,-m*h,-l*h,k*h,(l*q-o*n)*h,(o*l-k*q)*h])},function(g,h,k){let l=k(0);g.exports=(m,n)=>new l('lineTo',{x:m,y:n})},function(g,h,k){let l=k(0);g.exports=(m,n)=>new l('moveTo',{x:m,y:n})},function(g){g.exports=([h,k],[[l,m],[n,o]])=>h>l&&k>m&&h<n&&k<o},function(g,h,k){let l=k(0),m=new l('restore');g.exports=(n,...o)=>[new l('setTransform',[n[0],n[1],n[2],n[3],n[4],n[5]]),o,m]},function(g,h,k){(function(l){function m(t,u){var v=0;for(var w=t.length-1;0<=w;w--){var z=t[w];'.'===z?t.splice(w,1):'..'===z?(t.splice(w,1),v++):v&&(t.splice(w,1),v--)}if(u)for(;v--;v)t.unshift('..');return t}function n(t,u){if(t.filter)return t.filter(u);var v=[];for(var w=0;w<t.length;w++)u(t[w],w,t)&&v.push(t[w]);return v}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,q=function(t){return o.exec(t).slice(1)};h.resolve=function(){var t='',u=!1;for(var v=arguments.length-1;-1<=v&&!u;v--){var w=0<=v?arguments[v]:l.cwd();if('string'!=typeof w)throw new TypeError('Arguments to path.resolve must be strings');else if(!w)continue;t=w+'/'+t,u='/'===w.charAt(0)}return t=m(n(t.split('/'),function(z){return!!z}),!u).join('/'),(u?'/':'')+t||'.'},h.normalize=function(t){var u=h.isAbsolute(t),v='/'===s(t,-1);return t=m(n(t.split('/'),function(w){return!!w}),!u).join('/'),t||u||(t='.'),t&&v&&(t+='/'),(u?'/':'')+t},h.isAbsolute=function(t){return'/'===t.charAt(0)},h.join=function(){var t=Array.prototype.slice.call(arguments,0);return h.normalize(n(t,function(u){if('string'!=typeof u)throw new TypeError('Arguments to path.join must be strings');return u}).join('/'))},h.relative=function(t,u){function v(E){for(var F=0;F<E.length&&''===E[F];F++);for(var G=E.length-1;0<=G&&''===E[G];G--);return F>G?[]:E.slice(F,G-F+1)}t=h.resolve(t).substr(1),u=h.resolve(u).substr(1);var w=v(t.split('/')),z=v(u.split('/')),A=Math.min(w.length,z.length),B=A;for(var C=0;C<A;C++)if(w[C]!==z[C]){B=C;break}var D=[];for(var C=B;C<w.length;C++)D.push('..');return D=D.concat(z.slice(B)),D.join('/')},h.sep='/',h.delimiter=':',h.dirname=function(t){var u=q(t),v=u[0],w=u[1];return v||w?(w&&(w=w.substr(0,w.length-1)),v+w):'.'},h.basename=function(t,u){var v=q(t)[2];return u&&v.substr(-1*u.length)===u&&(v=v.substr(0,v.length-u.length)),v},h.extname=function(t){return q(t)[3]};var s=function(t,u,v){return t.substr(u,v)}}).call(h,k(14))},function(g,h,k){function l(o){return k(m(o))}function m(o){var q=n[o];if(!(q+1))throw new Error('Cannot find module \''+o+'\'.');return q}var n={'./Instruction.js':0,'./activeRegions.js':15,'./arc.js':16,'./arcTo.js':17,'./beginPath.js':2,'./bezierCurveTo.js':18,'./clearRect.js':19,'./clip.js':20,'./clipPath.js':21,'./closePath.js':3,'./createRegularPolygon.js':22,'./createWrapper.js':23,'./cycleMouseData.js':4,'./drawImage.js':24,'./ellipse.js':25,'./fill.js':26,'./fillArc.js':27,'./fillRect.js':28,'./fillStyle.js':29,'./fillText.js':30,'./globalAlpha.js':31,'./globalCompositeOperation.js':32,'./hitRect.js':33,'./hitRegion.js':34,'./imageSmoothingEnabled.js':35,'./initialize.js':36,'./invertMatrix.js':5,'./keyData.js':37,'./lineStyle.js':38,'./lineTo.js':6,'./mouseData.js':39,'./moveTo.js':7,'./moveToLineTo.js':40,'./path.js':41,'./placeHolder.js':42,'./pointInRect.js':8,'./quadraticCurveTo.js':43,'./raf.js':44,'./rect.js':45,'./render.js':46,'./resetTransform.js':47,'./rotate.js':48,'./scale.js':49,'./setTransform.js':9,'./shadowStyle.js':50,'./skewX.js':51,'./skewY.js':52,'./stroke.js':53,'./strokeArc.js':54,'./strokeRect.js':55,'./strokeStyle.js':56,'./strokeText.js':57,'./textStyle.js':58,'./transform.js':59,'./transformPoints.js':1,'./translate.js':60};l.keys=function(){return Object.keys(n)},l.resolve=m,g.exports=l,l.id=11},function(g,h){h=g.exports=function(q){if(q&&'object'==typeof q){var s=q.which||q.keyCode||q.charCode;s&&(q=s)}if('number'==typeof q)return n[q];var t=q+'',u=k[t.toLowerCase()];if(u)return u;var u=l[t.toLowerCase()];return u?u:1===t.length?t.charCodeAt(0):void 0};var k=h.code=h.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,'pause/break':19,'caps lock':20,esc:27,space:32,'page up':33,'page down':34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,'delete':46,command:91,'left command':91,'right command':93,'numpad *':106,'numpad +':107,'numpad -':109,'numpad .':110,'numpad /':111,'num lock':144,'scroll lock':145,'my computer':182,'my calculator':183,';':186,'=':187,',':188,'-':189,'.':190,'/':191,'`':192,'[':219,'\\':220,']':221,'\'':222},l=h.aliases={windows:91,'\u21E7':16,'\u2325':18,'\u2303':17,'\u2318':91,ctl:17,control:17,option:18,pause:19,'break':19,caps:20,'return':13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(m=97;123>m;m++)k[String.fromCharCode(m)]=m-32;for(var m=48;58>m;m++)k[m-48]=m;for(m=1;13>m;m++)k['f'+m]=m+111;for(m=0;10>m;m++)k['numpad '+m]=m+96;var n=h.names=h.title={};for(m in k)n[k[m]]=m;for(var o in l)k[o]=l[o]},function(g){g.exports=function(h,k){var l=h[0],m=h[1],n=!1;for(var o=0,q=k.length-1;o<k.length;q=o++){var s=k[o][0],t=k[o][1],u=k[q][0],v=k[q][1];t>m!=v>m&&l<(u-s)*(m-t)/(v-t)+s&&(n=!n)}return n}},function(g){function h(){throw new Error('setTimeout has not been defined')}function k(){throw new Error('clearTimeout has not been defined')}function l(C){if(u===setTimeout)return setTimeout(C,0);if((u===h||!u)&&setTimeout)return u=setTimeout,setTimeout(C,0);try{return u(C,0)}catch(D){try{return u.call(null,C,0)}catch(E){return u.call(this,C,0)}}}function m(C){if(v===clearTimeout)return clearTimeout(C);if((v===k||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(C);try{return v(C)}catch(D){try{return v.call(null,C)}catch(E){return v.call(this,C)}}}function n(){z&&A&&(z=!1,A.length?w=A.concat(w):B=-1,w.length&&o())}function o(){if(!z){var C=l(n);z=!0;for(var D=w.length;D;){for(A=w,w=[];++B<D;)A&&A[B].run();B=-1,D=w.length}A=null,z=!1,m(C)}}function q(C,D){this.fun=C,this.array=D}function s(){}var t=g.exports={},u,v;(function(){try{u='function'==typeof setTimeout?setTimeout:h}catch(C){u=h}try{v='function'==typeof clearTimeout?clearTimeout:k}catch(C){v=k}})();var w=[],z=!1,A,B=-1;t.nextTick=function(C){var D=Array(arguments.length-1);if(1<arguments.length)for(var E=1;E<arguments.length;E++)D[E-1]=arguments[E];w.push(new q(C,D)),1!==w.length||z||l(o)},q.prototype.run=function(){this.fun.apply(null,this.array)},t.title='browser',t.browser=!0,t.env={},t.argv=[],t.version='',t.versions={},t.on=s,t.addListener=s,t.once=s,t.off=s,t.removeListener=s,t.removeAllListeners=s,t.emit=s,t.binding=function(){throw new Error('process.binding is not supported')},t.cwd=function(){return'/'},t.chdir=function(){throw new Error('process.chdir is not supported')},t.umask=function(){return 0}},function(g,h,k){let l=k(13),m=k(1),n=k(5),o=k(8);new Float64Array(6),g.exports=q=>{let s=q.canvas[Symbol.for('regions')],t=q.canvas[Symbol.for('mousePoints')],u=q.canvas[Symbol.for('mouseData')],v={};0===t.length&&t.push([u.x,u.y,u.state]);for(let w of s){let z=m(t,n(w.matrix));if(!w.polygon){for(let A of z)if(o(A,w.points)){w.hover=!0,w.clicked=!!u.clicked,v[w.id]=w;break}continue}for(let A of z)if(l(A,w.points)){w.hover=!0,w.clicked=!!u.clicked,v[w.id]=w;break}}return v}},function(g,h,k){let l=k(0),m=2*Math.PI;g.exports=(...n)=>{let[o,q,s,t,u,v]=n,w={x:0,y:0,r:o,startAngle:0,endAngle:m,counterclockwise:!1};return 3<n.length&&(w.startAngle=t,w.endAngle=u,w.counterclockwise=!!v),1<n.length&&(w.x=o,w.y=q,w.r=s),new l('arc',w)}},function(g,h,k){let l=k(0);g.exports=(m,n,o,q,s)=>new l('arcTo',{x1:m,y1:n,x2:o,y2:q,r:s})},function(g,h,k){let l=k(0);g.exports=(m,n,o,q,s,t)=>new l('bezierCurveTo',{cp1x:m,cp1y:n,cp2x:o,cp2y:q,x:s,y:t})},function(g,h,k){let l=k(0);g.exports=(...m)=>new l('clearRect',2<m.length?{x:m[0],y:m[1],width:m[2],height:m[3]}:{x:0,y:0,width:m[0],height:m[1]})},function(g,h,k){let l=k(0),m=new l('beginClip'),n=new l('clip'),o=new l('endClip');g.exports=(q,...s)=>[m,q,n,s,o]},function(g,h,k){let l=k(0),m=new l('clipPath');g.exports=()=>m},function(g){g.exports=(h=0,k=[0,0],l=3)=>{let m=[];for(let n=0;n<l;n++)m.push([k[0]+h*Math.cos(2*Math.PI*n/l),k[1]+h*Math.sin(2*Math.PI*n/l)]);return m}},function(g){let h=[].concat;g.exports=h},function(g,h,k){let l=k(0);g.exports=(...m)=>{let[n,o,q,s,t,u,v,w,z]=m;return 9===m.length?new l('drawImageSource',{img:n,sx:o,sy:q,sWidth:s,sHeight:t,dx:u,dy:v,dWidth:w,dHeight:z}):5<=m.length?new l('drawImageSize',{img:n,dx:o,dy:q,dWidth:s,dHeight:t}):3<=m.length?new l('drawImage',{img:n,dx:o,dy:q}):new l('drawImage',{img:n,dx:0,dy:0})}},function(g,h,k){let l=k(0),m=2*Math.PI;g.exports=(...n)=>{let[o,q,s,t,u,v,w,z]=n,A={x:0,y:0,radiusX:o,radiusY:q,rotation:0,startAngle:0,endAngle:m,anticlockwise:!1};return 5<n.length&&(A.startAngle=v,A.endAngle=w,A.anticlockwise=!!z),4<n.length&&(A.rotation=u),2<n.length&&(A.x=o,A.y=q,A.radiusX=s,A.radiusY=t),new l('ellipse',A)}},function(g,h,k){let l=k(0),m=new l('fill');g.exports=()=>m},function(g,h,k){let l=k(0),m=2*Math.PI;g.exports=(...n)=>{let[o,q,s,t,u,v]=n,w={x:0,y:0,r:o,startAngle:0,endAngle:m,counterclockwise:!1};return 3<n.length&&(w.startAngle=t,w.endAngle=u,w.counterclockwise=!!v),2<=n.length&&(w.x=o,w.y=q,w.r=s),new l('fillArc',w)}},function(g,h,k){let l=k(0);g.exports=(...m)=>new l('fillRect',2<m.length?{x:m[0],y:m[1],width:m[2],height:m[3]}:{x:0,y:0,width:m[0],height:m[1]})},function(g,h,k){let l=k(0),m=new l('endFillStyle');g.exports=(n,...o)=>[new l('fillStyle',{value:n}),o,m]},function(g,h,k){let l=k(0);g.exports=(...m)=>{let[n,o,q,s]=m;return 4>m.length&&(s=null),3>m.length&&(o=0,q=0),new l('fillText',{text:n,x:o,y:q,maxWidth:s})}},function(g,h,k){let l=k(0),m=new l('endGlobalAlpha');g.exports=(n,...o)=>[new l('globalAlpha',{value:n}),o,m]},function(g,h,k){var l=k(0);let m=new l('endGlobalCompositeOperation');g.exports=(n,...o)=>[new l('globalCompositeOperation',{value:n}),o,m]},function(g,h,k){let l=k(0);g.exports=(m,...n)=>{let[o,q,s,t]=n;return 3>=n.length&&(s=o,t=q,o=0,q=0),new l('hitRect',{id:m,points:[[o,q],[o+s,q+t]]})}},function(g,h,k){let l=k(0);g.exports=(m,n)=>new l('hitRegion',{id:m,points:n})},function(g,h,k){let l=k(0),m=new l('endImageSmoothingEnabled');g.exports=(n,...o)=>[new l('imageSmoothingEnabled',{value:n}),o,m]},function(g,h,k){let l=k(12);g.exports=m=>{let{canvas:n}=m;n[Symbol.for('mouseData')]={x:0,y:0,dx:0,dy:0,previousX:0,previousY:0,state:!1,clicked:0};let o=n[Symbol.for('keyData')]={};for(let s in l.code)l.code.hasOwnProperty(s)&&(o[s]=!1);n[Symbol.for('regions')]=[],n[Symbol.for('mousePoints')]=[],n.tabIndex=1;let q=s=>{let{clientX:t,clientY:u}=s,{left:v,top:w}=n.getBoundingClientRect(),z=n[Symbol.for('mouseData')],A=[t-v,u-w,z.state];z.x=A[0],z.y=A[1];let B=n[Symbol.for('mousePoints')];return B.push(A),100<B.length&&B.splice(0,B.length-100),s.preventDefault(),!1};n.addEventListener('mousemove',s=>q(s)),n.addEventListener('mousedown',s=>{let{target:t}=s;if(t===n){let u=n[Symbol.for('mouseData')];return u.state||(u.clicked+=1),u.state=!0,q(s)}}),n.addEventListener('mouseup',s=>{let t=n[Symbol.for('mouseData')];return t.state=!1,q(s)}),n.addEventListener('keydown',s=>{return n[Symbol.for('keyData')][l(s.keyCode)]=!0,s.preventDefault(),!1}),n.addEventListener('keyup',s=>{return n[Symbol.for('keyData')][l(s.keyCode)]=!1,s.preventDefault(),!1})}},function(g){g.exports=h=>h.canvas[Symbol.for('keyData')]},function(g,h,k){let l=k(0),m=new l('endLineStyle');g.exports=(n,...o)=>{n=n||{};var q={lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,lineDash:null,lineDashOffset:null};return'undefined'!=typeof n.lineWidth&&(q.lineWidth=n.lineWidth),'undefined'!=typeof n.lineCap&&(q.lineCap=n.lineCap),'undefined'!=typeof n.lineJoin&&(q.lineJoin=n.lineJoin),'undefined'!=typeof n.miterLimit&&(q.miterLimit=n.miterLimit),'undefined'!=typeof n.lineDash&&(q.lineDash=n.lineDash||[]),'undefined'!=typeof n.lineDashOffset&&(q.lineDashOffset=n.lineDashOffset),[new l('lineStyle',q),o,m]}},function(g){g.exports=h=>h.canvas[Symbol.for('mouseData')]},function(g,h,k){let l=k(7),m=k(6);g.exports=(n,o)=>0===o?l(n[0],n[1]):m(n[0],n[1])},function(g,h,k){let l=k(2)(),m=k(3)();g.exports=(...n)=>[l,n,m]},function(g,h,k){let l=k(0),m=new l('placeholder');g.exports=()=>m},function(g,h,k){let l=k(0);g.exports=(m,n,o,q)=>new l('quadraticCurveTo',{cpx:m,cpy:n,x:o,y:q})},function(g){let h=k=>{return requestAnimationFrame(()=>h(k)),k()};g.exports=h},function(g,h,k){let l=k(0);g.exports=(...m)=>new l('rect',2<m.length?{x:m[0],y:m[1],width:m[2],height:m[3]}:{x:0,y:0,width:m[0],height:m[1]})},function(g,h,k){let l=[1,0,0,1,0,0],m=new Float64Array(l),n=[],o=[],q=[],s=[],t=[],u=[],v=[],w=[],z=new Float64Array(3006),A=6,B=[].concat,C=!1;'undefined'!=typeof CanvasRenderingContext2D&&(C=CanvasRenderingContext2D.prototype.hasOwnProperty('ellipse')),k(1);const D=k(4),E=()=>{let G=z;return z=new Float64Array(z.length+600),z.set(G),this};z.set(l),2*Math.PI;let F=G=>G&&G.splice(0,G.length);g.exports=(...G)=>{let H=G.slice(0,-1),I=G[G.length-1],J=I.canvas[Symbol.for('regions')],K=I.canvas[Symbol.for('mousePoints')],L=I.canvas[Symbol.for('extensions')],M;D(I),F(J),F(K);let N=H.length;for(let O=0;O<N;O++){let P=H[O];if(P&&P.constructor===Array){for(H=B.apply([],H),P=H[O];P&&P.constructor===Array;)H=B.apply([],H),P=H[O];N=H.length}if(P){let{props:Q,type:R}=P;if('transform'===R){m[0]=z[A-6],m[1]=z[A-5],m[2]=z[A-4],m[3]=z[A-3],m[4]=z[A-2],m[5]=z[A-1],A+=6,A>z.length&&E(),z[A-6]=m[0]*Q[0]+m[2]*Q[1],z[A-5]=m[1]*Q[0]+m[3]*Q[1],z[A-4]=m[0]*Q[2]+m[2]*Q[3],z[A-3]=m[1]*Q[2]+m[3]*Q[3],z[A-2]=m[0]*Q[4]+m[2]*Q[5]+m[4],z[A-1]=m[1]*Q[4]+m[3]*Q[5]+m[5],I.setTransform(z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]);continue}if('setTransform'===R){A+=6,A>z.length&&E(),z[A-6]=Q[0],z[A-5]=Q[1],z[A-4]=Q[2],z[A-3]=Q[3],z[A-2]=Q[4],z[A-1]=Q[5],I.setTransform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]);continue}if('scale'===R){m[0]=z[A-6],m[1]=z[A-5],m[2]=z[A-4],m[3]=z[A-3],m[4]=z[A-2],m[5]=z[A-1],A+=6,A>z.length&&E(),z[A-6]=m[0]*Q.x,z[A-5]=m[1]*Q.x,z[A-4]=m[2]*Q.y,z[A-3]=m[3]*Q.y,z[A-2]=m[4],z[A-1]=m[5],I.setTransform(z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]);continue}if('translate'===R){m[0]=z[A-6],m[1]=z[A-5],m[2]=z[A-4],m[3]=z[A-3],m[4]=z[A-2],m[5]=z[A-1],A+=6,A>z.length&&E(),z[A-6]=m[0],z[A-5]=m[1],z[A-4]=m[2],z[A-3]=m[3],z[A-2]=m[4]+m[0]*Q.x+m[2]*Q.y,z[A-1]=m[5]+m[1]*Q.x+m[3]*Q.y,I.setTransform(z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]);continue}if('rotate'===R){m[0]=z[A-6],m[1]=z[A-5],m[2]=z[A-4],m[3]=z[A-3],m[4]=z[A-2],m[5]=z[A-1],A+=6,A>z.length&&E(),z[A-6]=m[0]*Q.cos+m[2]*Q.sin,z[A-5]=m[1]*Q.cos+m[3]*Q.sin,z[A-4]=m[0]*-Q.sin+m[2]*Q.cos,z[A-3]=m[1]*-Q.sin+m[3]*Q.cos,z[A-2]=m[4],z[A-1]=m[5],I.setTransform(z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]);continue}if('skewX'===R){m[0]=z[A-6],m[1]=z[A-5],m[2]=z[A-4],m[3]=z[A-3],m[4]=z[A-2],m[5]=z[A-1],A+=6,A>z.length&&E(),z[A-6]=m[0],z[A-5]=m[1],z[A-4]=m[0]*Q.x+m[2],z[A-3]=m[1]*Q.x+m[3],z[A-2]=m[4],z[A-1]=m[5],I.setTransform(z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]);continue}if('skewY'===R){m[0]=z[A-6],m[1]=z[A-5],m[2]=z[A-4],m[3]=z[A-3],m[4]=z[A-2],m[5]=z[A-1],A+=6,A>z.length&&E(),z[A-6]=1*m[0]+m[2]*Q.y,z[A-5]=1*m[1]+m[3]*Q.y,z[A-4]=m[2],z[A-3]=m[3],z[A-2]=m[4],z[A-1]=m[5],I.setTransform(z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]);continue}if('restore'===R){A-=6,m[0]=z[A-6],m[1]=z[A-5],m[2]=z[A-4],m[3]=z[A-3],m[4]=z[A-2],m[5]=z[A-1],I.setTransform(m[0],m[1],m[2],m[3],m[4],m[5]);continue}if('fillRect'===R){I.fillRect(Q.x,Q.y,Q.width,Q.height);continue}if('strokeRect'===R){I.strokeRect(Q.x,Q.y,Q.width,Q.height);continue}if('clearRect'===R){I.clearRect(Q.x,Q.y,Q.width,Q.height);continue}if('rect'===R){I.rect(Q.x,Q.y,Q.width,Q.height);continue}if('fillStyle'===R){n.push(I.fillStyle),I.fillStyle=Q.value;continue}if('strokeStyle'===R){o.push(I.strokeStyle),I.strokeStyle=Q.value;continue}if('endFillStyle'===R){I.fillStyle=n.pop();continue}if('endStrokeStyle'===R){I.strokeStyle=o.pop();continue}if('lineStyle'===R){q.push({lineWidth:I.lineWidth,lineCap:I.lineCap,lineJoin:I.lineJoin,miterLimit:I.miterLimit,lineDash:I.getLineDash(),lineDashOffset:I.lineDashOffset}),null!==Q.lineWidth&&(I.lineWidth=Q.lineWidth),null!==Q.lineCap&&(I.lineCap=Q.lineCap),null!==Q.lineJoin&&(I.lineJoin=Q.lineJoin),null!==Q.miterLimit&&(I.miterLimit=Q.miterLimit),null!==Q.lineDash&&I.setLineDash(Q.lineDash),null!==Q.lineDashOffset&&(I.lineDashOffset=Q.lineDashOffset);continue}if('endLineStyle'===R){M=q.pop(),I.lineWidth=M.lineWidth,I.lineCap=M.lineCap,I.lineJoin=M.lineJoin,I.miterLimit=M.miterLimit,I.setLineDash(M.lineDash),I.lineDashOffset=M.lineDashOffset;continue}if('textStyle'===R){s.push({font:I.font,textAlign:I.textAlign,textBaseline:I.textBaseline,direction:I.direction}),null!==Q.font&&(I.font=Q.font),null!==Q.textAlign&&(I.textAlign=Q.textAlign),null!==Q.textBaseline&&(I.textBaseline=Q.textBaseline),null!==Q.direction&&(I.direction=Q.direction);continue}if('endTextStyle'===R){M=s.pop(),I.font=M.font,I.textAlign=M.textAlign,I.textBaseline=M.textBaseline,I.direction=M.direction;continue}if('shadowStyle'===R){t.push({shadowBlur:I.shadowBlur,shadowColor:I.shadowColor,shadowOffsetX:I.shadowOffsetX,shadowOffsetY:I.shadowOffsetY}),null!==Q.shadowBlur&&(I.shadowBlur=Q.shadowBlur),null!==Q.shadowColor&&(I.shadowColor=Q.shadowColor),null!==Q.shadowOffsetX&&(I.shadowOffsetX=Q.shadowOffsetX),null!==Q.shadowOffsetY&&(I.shadowOffsetY=Q.shadowOffsetY);continue}if('endShadowStyle'===R){M=t.pop(),I.shadowBlur=M.shadowBlur,I.shadowColor=M.shadowColor,I.shadowOffsetX=M.shadowOffsetX,I.shadowOffsetY=M.shadowOffsetY;continue}if('strokeText'===R){if(Q.maxWidth){I.strokeText(Q.text,Q.x,Q.y,Q.maxWidth);continue}I.strokeText(Q.text,Q.x,Q.y);continue}if('fillText'===R){if(Q.maxWidth){I.fillText(Q.text,Q.x,Q.y,Q.maxWidth);continue}I.fillText(Q.text,Q.x,Q.y);continue}if('drawImage'===R){I.drawImage(Q.img,Q.dx,Q.dy);continue}if('drawImageSize'===R){I.drawImage(Q.img,Q.dx,Q.dy,Q.dWidth,Q.dHeight);continue}if('drawImageSource'===R){I.drawImage(Q.img,Q.sx,Q.sy,Q.sWidth,Q.sHeight,Q.dx,Q.dy,Q.dWidth,Q.dHeight);continue}if('strokeArc'===R){I.beginPath(),I.arc(Q.x,Q.y,Q.r,Q.startAngle,Q.endAngle,Q.counterclockwise),I.closePath(),I.stroke();continue}if('fillArc'===R){I.beginPath(),I.arc(Q.x,Q.y,Q.r,Q.startAngle,Q.endAngle,Q.counterclockwise),I.closePath(),I.fill();continue}if('moveTo'===R){I.moveTo(Q.x,Q.y);continue}if('lineTo'===R){I.lineTo(Q.x,Q.y);continue}if('bezierCurveTo'===R){I.bezierCurveTo(Q.cp1x,Q.cp1y,Q.cp2x,Q.cp2y,Q.x,Q.y);continue}if('quadraticCurveTo'===R){I.quadraticCurveTo(Q.cpx,Q.cpy,Q.x,Q.y);continue}if('arc'===R){I.arc(Q.x,Q.y,Q.r,Q.startAngle,Q.endAngle,Q.counterclockwise);continue}if('arcTo'===R){I.arcTo(Q.x1,Q.y1,Q.x2,Q.y2,Q.r);continue}if('ellipse'===R){if(C){I.ellipse(Q.x,Q.y,Q.radiusX,Q.radiusY,Q.rotation,Q.startAngle,Q.endAngle,Q.anticlockwise);continue}I.save(),I.translate(Q.x,Q.y),I.rotate(Q.rotation),I.scale(Q.radiusX,Q.radiusY),I.arc(0,0,1,Q.startAngle,Q.endAngle,Q.anticlockwise),I.restore();continue}if('globalCompositeOperation'===R){u.push(I.globalCompositeOperation),I.globalCompositeOperation=Q.value;continue}if('endGlobalCompositeOperation'===R){I.globalCompositeOperation=u.pop();continue}if('fill'===R){I.fill();continue}if('stroke'===R){I.stroke();continue}if('beginClip'===R){I.save(),I.beginPath();continue}if('clip'===R){I.clip();continue}if('endClip'===R){I.restore();continue}if('beginPath'===R){I.beginPath();continue}if('closePath'===R){I.closePath();continue}if('globalAlpha'===R){v.push(I.globalAlpha),I.globalAlpha*=Q.value;continue}if('endGlobalAlpha'===R){I.globalAlpha=v.pop();continue}if('hitRect'===R&&J&&(M=[z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]],J.push({id:Q.id,points:Q.points,matrix:M,polygon:!1,hover:!1,touched:!1,clicked:!1})),'hitRegion'===R&&J){M=[z[A-6],z[A-5],z[A-4],z[A-3],z[A-2],z[A-1]],J.push({id:Q.id,points:Q.points,matrix:M,polygon:!0,hover:!1,touched:!1,clicked:!1});continue}if('imageSmoothingEnabled'===R){w.push(I.imageSmoothingEnabled),I.imageSmoothingEnabled=Q.value;continue}if('endImageSmoothingEnabled'===R){I.imageSmoothingEnabled=w.pop();continue}if(L&&L[R]){L[R](Q,I);continue}}}}},function(g,h,k){let l=k(9);g.exports=(...m)=>l([1,0,0,1,0,0],m)},function(g,h,k){let l=k(0),m=new l('restore');g.exports=(n,...o)=>[new l('rotate',{cos:Math.cos(n),sin:Math.sin(n)}),o,m]},function(g,h,k){let l=k(0),m=new l('restore');g.exports=(n,o,...q)=>{return'number'!=typeof o&&(q=[o].concat(q),o=n),[new l('scale',{x:n,y:o}),q,m]}},function(g,h,k){let l=k(0),m=new l('endShadowStyle');g.exports=(n,...o)=>{n=n||{};var q={shadowBlur:null,shadowColor:null,shadowOffsetX:null,shadowOffsetY:null};return'undefined'!=typeof n.shadowBlur&&(q.shadowBlur=n.shadowBlur),'undefined'!=typeof n.shadowColor&&(q.shadowColor=n.shadowColor),'undefined'!=typeof n.shadowOffsetX&&(q.shadowOffsetX=n.shadowOffsetX),'undefined'!=typeof n.direction&&(q.shadowOffsetY=n.shadowOffsetY),[new l('shadowStyle',n),o,m]}},function(g,h,k){let l=k(0),m=new l('restore');g.exports=(n,...o)=>[new l('skewX',{x:Math.tan(n)}),o,m]},function(g,h,k){let l=k(0),m=new l('restore');g.exports=(n,...o)=>[new l('skewY',{y:Math.tan(y)}),o,m]},function(g,h,k){let l=k(0),m=new l('stroke');g.exports=()=>m},function(g,h,k){let l=k(0),m=2*Math.PI;g.exports=(...n)=>{let[o,q,s,t,u,v]=n,w={x:0,y:0,r:o,startAngle:0,endAngle:m,counterclockwise:!1};return 3<n.length&&(w.startAngle=t,w.endAngle=u,w.counterclockwise=!!v),1<n.length&&(w.x=o,w.y=q,w.r=s),new l('strokeArc',w)}},function(g,h,k){let l=k(0);g.exports=(...m)=>new l('strokeRect',2<m.length?{x:m[0],y:m[1],width:m[2],height:m[3]}:{x:0,y:0,width:m[0],height:m[1]})},function(g,h,k){let l=k(0),m=new l('endStrokeStyle');g.exports=(n,...o)=>[new l('strokeStyle',{value:n}),o,m]},function(g,h,k){let l=k(0);g.exports=(...m)=>{let[n,o,q,s]=m;return 4>m.length&&(s=null),3>m.length&&(o=0,q=0),new l('strokeText',{text:n,x:o,y:q,maxWidth:s})}},function(g,h,k){let l=k(0),m=new l('endTextStyle');g.exports=(n,...o)=>{n=n||{};var q={font:null,textAlign:null,textBaseline:null,direction:null};return'undefined'!=typeof n.font&&(q.font=n.font),'undefined'!=typeof n.textAlign&&(q.textAlign=n.textAlign),'undefined'!=typeof n.textBaseline&&(q.textBaseline=n.textBaseline),'undefined'!=typeof n.direction&&(q.direction=n.direction),[new l('textStyle',q),o,m]}},function(g,h,k){let l=k(0),m=new l('restore');g.exports=(n,...o)=>{return[new l('transform',[n[0],n[1],n[2],n[3],n[4],n[5]]),o,m]}},function(g,h,k){let l=k(0),m=new l('restore');g.exports=(n,o,...q)=>[new l('translate',{x:n,y:o}),q,m]},function(g,h,k){'use strict';'use strict';var l=k(11),m=k(10);g.exports=l.keys().reduce(function(n,o){return n[m.basename(o,m.extname(o))]=l(o),n},{})}])});